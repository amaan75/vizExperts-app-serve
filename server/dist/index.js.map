{"version":3,"sources":["../src/index.js"],"names":["PORT","app","server","createServer","use","exposedHeaders","json","limit","req","res","version","wss","on","ws","console","log","message","listen","process","env","address","port"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;AAIA,IAAMA,OAAO,IAAb;AACA,IAAMC,MAAM,wBAAZ;AACAA,IAAIC,MAAJ,GAAa,eAAKC,YAAL,CAAkBF,GAAlB,CAAb;;AAGAA,IAAIG,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAGAH,IAAIG,GAAJ,CAAQ,oBAAK;AACTC,kBAAgB;AADP,CAAL,CAAR;;AAIAJ,IAAIG,GAAJ,CAAQ,qBAAWE,IAAX,CAAgB;AACpBC,SAAO;AADa,CAAhB,CAAR;;AAIAN,IAAIG,GAAJ,CAAQ,UAACI,GAAD,EAAKC,GAAL,EAAW;AACjBA,MAAIH,IAAJ,CAAS;AACPI;AADO,GAAT;AAGD,CAJD;;AAMAT,IAAIU,GAAJ,GAAU,gBAAW;;AAEnBT,UAAOD,IAAIC;AAFQ,CAAX,CAAV;;AAKAD,IAAIU,GAAJ,CAAQC,EAAR,CAAW,YAAX,EAAyB,UAACC,EAAD,EAAM;AAC7BC,UAAQC,GAAR;;AAEF;;AAEAF,KAAGD,EAAH,CAAM,SAAN,EAAgB,UAACI,OAAD,EAAW;AACzBF,YAAQC,GAAR,8BAAuCC,OAAvC;AACD,GAFD;AAIC,CATD;;AAWAf,IAAIC,MAAJ,CAAWe,MAAX,CAAkBC,QAAQC,GAAR,CAAYnB,IAAZ,IAAoBA,IAAtC,EAA4C,YAAM;AAC1Cc,UAAQC,GAAR,6BAAsCd,IAAIC,MAAJ,CAAWkB,OAAX,GAAqBC,IAA3D;AACP,CAFD;;kBAIepB,G","file":"index.js","sourcesContent":["import http from 'http';\nimport express from 'express';\nimport cors from 'cors';\nimport morgan from 'morgan';\nimport bodyParser from 'body-parser';\nimport {version} from '../package.json';\nimport WebSocketServer,{Server} from 'uws';\n\n\n\nconst PORT = 3000;\nconst app = express();\napp.server = http.createServer(app);\n\n\napp.use(morgan('dev'));\n\n\napp.use(cors({\n    exposedHeaders: \"*\"\n}));\n\napp.use(bodyParser.json({\n    limit: '50mb'\n}));\n\napp.use((req,res)=>{\n  res.json({\n    version:version\n  })\n})\n\napp.wss = new Server({\n\n  server:app.server\n});\n\napp.wss.on('connection', (ws)=>{\n  console.log(`New client connect`);\n\n//listen for new message from client\n\nws.on('message',(message)=>{\n  console.log(`new message from client:${message}`);\n})\n\n});\n\napp.server.listen(process.env.PORT || PORT, () => {\n        console.log(`App is running on port ${app.server.address().port}`);\n});\n\nexport default app;\n"]}